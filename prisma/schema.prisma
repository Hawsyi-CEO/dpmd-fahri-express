generator client {
  provider   = "prisma-client-js"
  engineType = "binary"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model aparatur_desa {
  id                         String                      @id @db.Char(36)
  desa_id                    BigInt                      @db.UnsignedBigInt
  nama_lengkap               String                      @db.VarChar(255)
  jabatan                    String                      @db.VarChar(255)
  nipd                       String?                     @db.VarChar(255)
  niap                       String?                     @db.VarChar(255)
  tempat_lahir               String                      @db.VarChar(255)
  tanggal_lahir              DateTime                    @db.Date
  jenis_kelamin              aparatur_desa_jenis_kelamin
  pendidikan_terakhir        String                      @db.VarChar(255)
  agama                      String                      @db.VarChar(255)
  pangkat_golongan           String?                     @db.VarChar(255)
  tanggal_pengangkatan       DateTime                    @db.Date
  nomor_sk_pengangkatan      String                      @db.VarChar(255)
  tanggal_pemberhentian      DateTime?                   @db.Date
  nomor_sk_pemberhentian     String?                     @db.VarChar(255)
  keterangan                 String?                     @db.VarChar(255)
  status                     aparatur_desa_status        @default(Aktif)
  produk_hukum_id            String?                     @db.Char(36)
  bpjs_kesehatan_nomor       String?                     @db.VarChar(255)
  bpjs_ketenagakerjaan_nomor String?                     @db.VarChar(255)
  file_bpjs_kesehatan        String?                     @db.VarChar(255)
  file_bpjs_ketenagakerjaan  String?                     @db.VarChar(255)
  file_pas_foto              String?                     @db.VarChar(255)
  file_ktp                   String?                     @db.VarChar(255)
  file_kk                    String?                     @db.VarChar(255)
  file_akta_kelahiran        String?                     @db.VarChar(255)
  file_ijazah_terakhir       String?                     @db.VarChar(255)
  created_at                 DateTime?                   @db.Timestamp(0)
  updated_at                 DateTime?                   @db.Timestamp(0)
  desas                      desas                       @relation(fields: [desa_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "aparatur_desa_desa_id_foreign")
  produk_hukums              produk_hukums?              @relation(fields: [produk_hukum_id], references: [id], onUpdate: NoAction, map: "aparatur_desa_produk_hukum_id_foreign")

  @@index([desa_id], map: "aparatur_desa_desa_id_foreign")
  @@index([produk_hukum_id], map: "aparatur_desa_produk_hukum_id_foreign")
}

model berita {
  id_berita       Int              @id @default(autoincrement())
  judul           String           @db.VarChar(255)
  slug            String           @unique(map: "slug") @db.VarChar(255)
  konten          String           @db.Text
  ringkasan       String?          @db.VarChar(500)
  gambar          String?          @db.VarChar(255)
  kategori        berita_kategori? @default(umum)
  status          berita_status?   @default(draft)
  tanggal_publish DateTime?        @db.DateTime(0)
  penulis         String?          @db.VarChar(100)
  views           Int?             @default(0)
  created_at      DateTime?        @default(now()) @db.Timestamp(0)
  updated_at      DateTime?        @default(now()) @db.Timestamp(0)

  @@index([kategori], map: "idx_kategori")
  @@index([slug], map: "idx_slug")
  @@index([status], map: "idx_status")
  @@index([tanggal_publish], map: "idx_tanggal_publish")
}

model bidangs {
  id               BigInt             @id @default(autoincrement()) @db.UnsignedBigInt
  nama             String             @db.VarChar(255)
  created_at       DateTime?          @db.Timestamp(0)
  updated_at       DateTime?          @db.Timestamp(0)
  kegiatan_bidang  kegiatan_bidang[]
  pegawai          pegawai[]
  jadwal_kegiatan  jadwal_kegiatan[]
}

model bumdes {
  id                                                            Int            @id @default(autoincrement())
  desa_id                                                       Int?
  kode_desa                                                     String?        @db.VarChar(50)
  kecamatan                                                     String?        @db.VarChar(255)
  desa                                                          String?        @db.VarChar(255)
  namabumdesa                                                   String         @db.VarChar(255)
  status                                                        bumdes_status  @default(aktif)
  keterangan_tidak_aktif                                        String?        @db.Text
  NIB                                                           String?        @db.VarChar(255)
  LKPP                                                          String?        @db.VarChar(255)
  NPWP                                                          String?        @db.VarChar(255)
  badanhukum                                                    String?        @db.VarChar(255)
  NamaPenasihat                                                 String?        @db.VarChar(255)
  JenisKelaminPenasihat                                         String?        @db.VarChar(255)
  HPPenasihat                                                   String?        @db.VarChar(255)
  NamaPengawas                                                  String?        @db.VarChar(255)
  JenisKelaminPengawas                                          String?        @db.VarChar(255)
  HPPengawas                                                    String?        @db.VarChar(255)
  NamaDirektur                                                  String?        @db.VarChar(255)
  JenisKelaminDirektur                                          String?        @db.VarChar(255)
  HPDirektur                                                    String?        @db.VarChar(255)
  NamaSekretaris                                                String?        @db.VarChar(255)
  JenisKelaminSekretaris                                        String?        @db.VarChar(255)
  HPSekretaris                                                  String?        @db.VarChar(255)
  NamaBendahara                                                 String?        @db.VarChar(255)
  JenisKelaminBendahara                                         String?        @db.VarChar(255)
  HPBendahara                                                   String?        @db.VarChar(255)
  TahunPendirian                                                String?        @db.VarChar(255)
  AlamatBumdesa                                                 String?        @db.Text
  Alamatemail                                                   String?        @db.VarChar(255)
  TotalTenagaKerja                                              Int?
  TelfonBumdes                                                  String?        @db.VarChar(255)
  JenisUsaha                                                    String?        @db.Text
  JenisUsahaUtama                                               String?        @db.VarChar(255)
  JenisUsahaLainnya                                             String?        @db.Text
  Omset2023                                                     Decimal?       @db.Decimal(15, 2)
  Laba2023                                                      Decimal?       @db.Decimal(15, 2)
  Omset2024                                                     Decimal?       @db.Decimal(15, 2)
  Laba2024                                                      Decimal?       @db.Decimal(15, 2)
  PenyertaanModal2019                                           Decimal?       @db.Decimal(15, 2)
  PenyertaanModal2020                                           Decimal?       @db.Decimal(15, 2)
  PenyertaanModal2021                                           Decimal?       @db.Decimal(15, 2)
  PenyertaanModal2022                                           Decimal?       @db.Decimal(15, 2)
  PenyertaanModal2023                                           Decimal?       @db.Decimal(15, 2)
  PenyertaanModal2024                                           Decimal?       @db.Decimal(15, 2)
  SumberLain                                                    Decimal?       @db.Decimal(15, 2)
  JenisAset                                                     String?        @db.VarChar(255)
  NilaiAset                                                     Decimal?       @db.Decimal(15, 2)
  KerjasamaPihakKetiga                                          String?        @db.Text
  TahunMulai_TahunBerakhir                                      String?        @map("TahunMulai-TahunBerakhir") @db.VarChar(255)
  KontribusiTerhadapPADes2021                                   Decimal?       @db.Decimal(15, 2)
  KontribusiTerhadapPADes2022                                   Decimal?       @db.Decimal(15, 2)
  KontribusiTerhadapPADes2023                                   Decimal?       @db.Decimal(15, 2)
  KontribusiTerhadapPADes2024                                   Decimal?       @db.Decimal(15, 2)
  Ketapang2024                                                  String?        @db.VarChar(255)
  Ketapang2025                                                  String?        @db.VarChar(255)
  BantuanKementrian                                             String?        @db.Text
  BantuanLaptopShopee                                           String?        @db.Text
  NomorPerdes                                                   String?        @db.VarChar(255)
  DesaWisata                                                    String?        @db.VarChar(255)
  LaporanKeuangan2021                                           String?        @db.VarChar(255)
  LaporanKeuangan2022                                           String?        @db.VarChar(255)
  LaporanKeuangan2023                                           String?        @db.VarChar(255)
  LaporanKeuangan2024                                           String?        @db.VarChar(255)
  Perdes                                                        String?        @db.VarChar(255)
  produk_hukum_perdes_id                                        String?        @db.Char(36)
  ProfilBUMDesa                                                 String?        @db.VarChar(255)
  BeritaAcara                                                   String?        @db.VarChar(255)
  AnggaranDasar                                                 String?        @db.VarChar(255)
  AnggaranRumahTangga                                           String?        @db.VarChar(255)
  ProgramKerja                                                  String?        @db.VarChar(255)
  SK_BUM_Desa                                                   String?        @db.VarChar(255)
  produk_hukum_sk_bumdes_id                                     String?        @db.Char(36)
  created_at                                                    DateTime?      @db.Timestamp(0)
  updated_at                                                    DateTime?      @db.Timestamp(0)
  produk_hukums_bumdes_produk_hukum_perdes_idToproduk_hukums    produk_hukums? @relation("bumdes_produk_hukum_perdes_idToproduk_hukums", fields: [produk_hukum_perdes_id], references: [id], onUpdate: NoAction, map: "bumdes_produk_hukum_perdes_id_foreign")
  produk_hukums_bumdes_produk_hukum_sk_bumdes_idToproduk_hukums produk_hukums? @relation("bumdes_produk_hukum_sk_bumdes_idToproduk_hukums", fields: [produk_hukum_sk_bumdes_id], references: [id], onUpdate: NoAction, map: "bumdes_produk_hukum_sk_bumdes_id_foreign")

  @@index([desa_id], map: "idx_desa_id")
  @@index([kecamatan], map: "idx_kecamatan")
  @@index([kode_desa], map: "idx_kode_desa")
  @@index([produk_hukum_perdes_id], map: "idx_produk_hukum_perdes_id")
  @@index([produk_hukum_sk_bumdes_id], map: "idx_produk_hukum_sk_bumdes_id")
  @@index([status], map: "idx_status")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model desas {
  id                        BigInt                      @id @default(autoincrement()) @db.UnsignedBigInt
  kecamatan_id              BigInt                      @db.UnsignedBigInt
  kode                      String                      @unique(map: "desas_kode_unique") @db.VarChar(255)
  nama                      String                      @db.VarChar(255)
  status_pemerintahan       desas_status_pemerintahan   @default(desa)
  is_musdesus_target        Boolean                     @default(false)
  created_at                DateTime?                   @db.Timestamp(0)
  updated_at                DateTime?                   @db.Timestamp(0)
  aparatur_desa             aparatur_desa[]
  kecamatans                kecamatans                  @relation(fields: [kecamatan_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "desas_kecamatan_id_foreign")
  karang_tarunas            karang_tarunas[]
  kelembagaan_activity_logs kelembagaan_activity_logs[]
  lpms                      lpms[]
  pengurus                  pengurus[]
  petugas_monitoring        petugas_monitoring[]
  pkks                      pkks[]
  posyandus                 posyandus[]
  produk_hukums             produk_hukums[]
  profil_desas              profil_desas?
  rts                       rts[]
  rws                       rws[]
  satlinmas                 satlinmas[]

  @@index([kecamatan_id], map: "desas_kecamatan_id_foreign")
}

model dinas {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  nama       String    @db.VarChar(255)
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
}

model hero_galleries {
  id         BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  image_path String    @db.VarChar(255)
  title      String?   @db.VarChar(255)
  is_active  Boolean   @default(true)
  order      Int       @default(0)
  created_at DateTime? @db.Timestamp(0)
  updated_at DateTime? @db.Timestamp(0)
}

model karang_tarunas {
  id                 String                             @id @db.Char(36)
  desa_id            BigInt                             @db.UnsignedBigInt
  nama               String                             @db.VarChar(255)
  alamat             String?                            @db.VarChar(255)
  status_kelembagaan karang_tarunas_status_kelembagaan? @default(aktif)
  status_verifikasi  karang_tarunas_status_verifikasi?  @default(unverified)
  created_at         DateTime?                          @default(now()) @db.Timestamp(0)
  updated_at         DateTime?                          @default(now()) @db.Timestamp(0)
  produk_hukum_id    String?                            @db.Char(36)
  desas              desas                              @relation(fields: [desa_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "karang_tarunas_desa_id_foreign")
  produk_hukums      produk_hukums?                     @relation(fields: [produk_hukum_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "karang_tarunas_produk_hukum_id_foreign")

  @@index([desa_id], map: "karang_tarunas_desa_id_foreign")
  @@index([produk_hukum_id], map: "karang_tarunas_produk_hukum_id_foreign")
}

model kecamatans {
  id                 BigInt               @id @default(autoincrement()) @db.UnsignedBigInt
  kode               String               @unique(map: "kecamatans_kode_unique") @db.VarChar(255)
  nama               String               @db.VarChar(255)
  created_at         DateTime?            @db.Timestamp(0)
  updated_at         DateTime?            @db.Timestamp(0)
  desas              desas[]
  petugas_monitoring petugas_monitoring[]
}

model kegiatan {
  id_kegiatan     Int               @id @default(autoincrement()) @db.UnsignedInt
  nama_kegiatan   String            @db.VarChar(255)
  nomor_sp        String            @db.VarChar(255)
  tanggal_mulai   DateTime          @db.Date
  tanggal_selesai DateTime          @db.Date
  lokasi          String            @db.VarChar(255)
  keterangan      String?           @db.Text
  created_at      DateTime?         @db.Timestamp(0)
  updated_at      DateTime?         @db.Timestamp(0)
  kegiatan_bidang kegiatan_bidang[]
}

model kegiatan_bidang {
  id_kegiatan_bidang Int       @id @default(autoincrement()) @db.UnsignedInt
  id_kegiatan        Int       @db.UnsignedInt
  id_bidang          BigInt    @db.UnsignedBigInt
  pegawai            String    @db.Text
  created_at         DateTime? @db.Timestamp(0)
  updated_at         DateTime? @db.Timestamp(0)
  bidangs            bidangs   @relation(fields: [id_bidang], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "kegiatan_bidang_id_bidang_foreign")
  kegiatan           kegiatan  @relation(fields: [id_kegiatan], references: [id_kegiatan], onDelete: Cascade, onUpdate: NoAction, map: "kegiatan_bidang_id_kegiatan_foreign")

  @@index([id_bidang], map: "kegiatan_bidang_id_bidang_foreign")
  @@index([id_kegiatan], map: "kegiatan_bidang_id_kegiatan_foreign")
}

model kelembagaan_activity_logs {
  id                 String    @id @db.Char(36)
  kelembagaan_type   String    @db.VarChar(50)
  kelembagaan_id     String    @db.Char(36)
  kelembagaan_nama   String?   @db.VarChar(255)
  desa_id            BigInt    @db.UnsignedBigInt
  activity_type      String    @db.VarChar(50)
  entity_type        String    @db.VarChar(50)
  entity_id          String?   @db.Char(36)
  entity_name        String?   @db.VarChar(255)
  action_description String    @db.Text
  old_value          Json?
  new_value          Json?
  user_id            BigInt    @db.UnsignedBigInt
  user_name          String?   @db.VarChar(255)
  user_role          String?   @db.VarChar(50)
  created_at         DateTime? @default(now()) @db.Timestamp(0)
  desas              desas     @relation(fields: [desa_id], references: [id], onDelete: Cascade, map: "kelembagaan_logs_desa_id_foreign")
  users              users     @relation(fields: [user_id], references: [id], onDelete: Cascade, map: "kelembagaan_logs_user_id_foreign")

  @@index([activity_type], map: "idx_activity_type")
  @@index([created_at], map: "idx_created_at")
  @@index([desa_id], map: "idx_desa_id")
  @@index([entity_type], map: "idx_entity_type")
  @@index([kelembagaan_type, kelembagaan_id], map: "idx_kelembagaan_type_id")
  @@index([user_id], map: "idx_user_id")
}

model kelurahan {
  id_kelurahan Int       @id @default(autoincrement())
  kelurahan    String    @db.VarChar(255)
  id_kecamatan Int?
  created_at   DateTime? @db.Timestamp(0)
  updated_at   DateTime? @db.Timestamp(0)

  @@index([id_kecamatan], map: "idx_kecamatan")
  @@index([kelurahan], map: "idx_kelurahan")
}

model lpms {
  id                 String                   @id @db.Char(36)
  desa_id            BigInt                   @db.UnsignedBigInt
  nama               String                   @db.VarChar(255)
  alamat             String?                  @db.VarChar(255)
  status_kelembagaan lpms_status_kelembagaan? @default(aktif)
  status_verifikasi  lpms_status_verifikasi?  @default(unverified)
  created_at         DateTime?                @default(now()) @db.Timestamp(0)
  updated_at         DateTime?                @default(now()) @db.Timestamp(0)
  produk_hukum_id    String?                  @db.Char(36)
  desas              desas                    @relation(fields: [desa_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "lpms_desa_id_foreign")
  produk_hukums      produk_hukums?           @relation(fields: [produk_hukum_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "lpms_produk_hukum_id_foreign")

  @@index([desa_id], map: "lpms_desa_id_foreign")
  @@index([produk_hukum_id], map: "lpms_produk_hukum_id_foreign")
}

/// This model or at least one of its fields has comments in the database, and requires an additional setup for migrations: Read more: https://pris.ly/d/database-comments
model pengurus {
  id                    String                      @id @db.Char(36)
  desa_id               BigInt                      @db.UnsignedBigInt
  pengurusable_id       String                      @db.Char(36)
  pengurusable_type     String                      @db.VarChar(255)
  jabatan               String                      @db.VarChar(255)
  tanggal_mulai_jabatan DateTime?                   @db.Date
  tanggal_akhir_jabatan DateTime?                   @db.Date
  status_jabatan        pengurus_status_jabatan?    @default(aktif)
  status_verifikasi     pengurus_status_verifikasi? @default(unverified)
  produk_hukum_id       String?                     @db.Char(36)
  nama_lengkap          String                      @db.VarChar(255)
  nik                   String?                     @db.VarChar(32)
  tempat_lahir          String?                     @db.VarChar(255)
  tanggal_lahir         DateTime?                   @db.Date
  jenis_kelamin         pengurus_jenis_kelamin?
  status_perkawinan     String?                     @db.VarChar(255)
  alamat                String?                     @db.Text
  no_telepon            String?                     @db.VarChar(32)
  pendidikan            String?                     @db.VarChar(255)
  avatar                String?                     @db.VarChar(255)
  created_at            DateTime?                   @default(now()) @db.Timestamp(0)
  updated_at            DateTime?                   @default(now()) @db.Timestamp(0)
  desas                 desas                       @relation(fields: [desa_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "pengurus_desa_id_foreign")

  @@index([pengurusable_type, pengurusable_id], map: "idx_pengurusable")
  @@index([status_jabatan], map: "idx_status_jabatan")
  @@index([desa_id], map: "pengurus_desa_id_foreign")
}

model petugas_monitoring {
  id             BigInt      @id @default(autoincrement()) @db.UnsignedBigInt
  nama_desa      String      @db.VarChar(255)
  nama_kecamatan String      @db.VarChar(255)
  nama_petugas   String      @db.VarChar(255)
  desa_id        BigInt?     @db.UnsignedBigInt
  kecamatan_id   BigInt?     @db.UnsignedBigInt
  is_active      Boolean     @default(true)
  created_at     DateTime?   @db.Timestamp(0)
  updated_at     DateTime?   @db.Timestamp(0)
  desas          desas?      @relation(fields: [desa_id], references: [id], onUpdate: NoAction, map: "petugas_monitoring_desa_id_foreign")
  kecamatans     kecamatans? @relation(fields: [kecamatan_id], references: [id], onUpdate: NoAction, map: "petugas_monitoring_kecamatan_id_foreign")

  @@index([desa_id, kecamatan_id], map: "petugas_monitoring_desa_id_kecamatan_id_index")
  @@index([kecamatan_id], map: "petugas_monitoring_kecamatan_id_foreign")
}

model pkks {
  id                 String                   @id @db.Char(36)
  desa_id            BigInt                   @db.UnsignedBigInt
  nama               String                   @db.VarChar(255)
  alamat             String?                  @db.VarChar(255)
  status_kelembagaan pkks_status_kelembagaan? @default(aktif)
  status_verifikasi  pkks_status_verifikasi?  @default(unverified)
  created_at         DateTime?                @default(now()) @db.Timestamp(0)
  updated_at         DateTime?                @default(now()) @db.Timestamp(0)
  produk_hukum_id    String?                  @db.Char(36)
  desas              desas                    @relation(fields: [desa_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "pkks_desa_id_foreign")
  produk_hukums      produk_hukums?           @relation(fields: [produk_hukum_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "pkks_produk_hukum_id_foreign")

  @@index([desa_id], map: "pkks_desa_id_foreign")
  @@index([produk_hukum_id], map: "pkks_produk_hukum_id_foreign")
}

model posyandus {
  id                 String                        @id @db.Char(36)
  desa_id            BigInt                        @db.UnsignedBigInt
  nama               String                        @db.VarChar(255)
  alamat             String?                       @db.VarChar(255)
  status_kelembagaan posyandus_status_kelembagaan? @default(aktif)
  status_verifikasi  posyandus_status_verifikasi?  @default(unverified)
  created_at         DateTime?                     @default(now()) @db.Timestamp(0)
  updated_at         DateTime?                     @default(now()) @db.Timestamp(0)
  produk_hukum_id    String?                       @db.Char(36)
  desas              desas                         @relation(fields: [desa_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "posyandus_desa_id_foreign")
  produk_hukums      produk_hukums?                @relation(fields: [produk_hukum_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "posyandus_produk_hukum_id_foreign")

  @@index([desa_id], map: "posyandus_desa_id_foreign")
  @@index([produk_hukum_id], map: "posyandus_produk_hukum_id_foreign")
}

model products {
  id          BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  name        String    @db.VarChar(255)
  description String?   @db.Text
  created_at  DateTime? @db.Timestamp(0)
  updated_at  DateTime? @db.Timestamp(0)
}

model produk_hukums {
  id                                                     String                         @id @db.Char(36)
  uuid                                                   String?                        @unique(map: "produk_hukums_uuid_unique") @db.Char(36)
  desa_id                                                BigInt                         @db.UnsignedBigInt
  tipe_dokumen                                           String                         @default("Peraturan Perundang-undangan") @db.VarChar(255)
  judul                                                  String                         @db.VarChar(255)
  nomor                                                  String                         @db.VarChar(255)
  tahun                                                  Int                            @db.Year
  jenis                                                  produk_hukums_jenis
  singkatan_jenis                                        produk_hukums_singkatan_jenis
  tempat_penetapan                                       String                         @db.VarChar(255)
  tanggal_penetapan                                      DateTime                       @db.Date
  sumber                                                 String?                        @db.VarChar(255)
  subjek                                                 String?                        @db.VarChar(255)
  status_peraturan                                       produk_hukums_status_peraturan @default(berlaku)
  keterangan_status                                      String?                        @db.VarChar(255)
  bahasa                                                 String                         @default("Indonesia") @db.VarChar(255)
  bidang_hukum                                           String                         @default("Tata Negara") @db.VarChar(255)
  file                                                   String                         @db.VarChar(255)
  created_at                                             DateTime?                      @db.Timestamp(0)
  updated_at                                             DateTime?                      @db.Timestamp(0)
  aparatur_desa                                          aparatur_desa[]
  bumdes_bumdes_produk_hukum_perdes_idToproduk_hukums    bumdes[]                       @relation("bumdes_produk_hukum_perdes_idToproduk_hukums")
  bumdes_bumdes_produk_hukum_sk_bumdes_idToproduk_hukums bumdes[]                       @relation("bumdes_produk_hukum_sk_bumdes_idToproduk_hukums")
  karang_tarunas                                         karang_tarunas[]
  lpms                                                   lpms[]
  pkks                                                   pkks[]
  posyandus                                              posyandus[]
  desas                                                  desas                          @relation(fields: [desa_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "produk_hukums_desa_id_foreign")
  rts                                                    rts[]
  rws                                                    rws[]
  satlinmas                                              satlinmas[]

  @@index([desa_id], map: "produk_hukums_desa_id_foreign")
}

model profil_desas {
  id                    BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  desa_id               BigInt    @unique(map: "profil_desas_desa_id_unique") @db.UnsignedBigInt
  klasifikasi_desa      String?   @db.VarChar(255)
  status_desa           String?   @db.VarChar(255)
  tipologi_desa         String?   @db.VarChar(255)
  jumlah_penduduk       Int?
  sejarah_desa          String?   @db.Text
  demografi             String?   @db.Text
  potensi_desa          String?   @db.Text
  no_telp               String?   @db.VarChar(255)
  email                 String?   @db.VarChar(255)
  instagram_url         String?   @db.VarChar(255)
  youtube_url           String?   @db.VarChar(255)
  luas_wilayah          String?   @db.VarChar(255)
  alamat_kantor         String?   @db.Text
  radius_ke_kecamatan   String?   @db.VarChar(255)
  foto_kantor_desa_path String?   @db.VarChar(255)
  latitude              Decimal?  @db.Decimal(10, 7)
  longitude             Decimal?  @db.Decimal(10, 7)
  created_at            DateTime? @db.Timestamp(0)
  updated_at            DateTime? @db.Timestamp(0)
  desas                 desas     @relation(fields: [desa_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "profil_desas_desa_id_foreign")
}

model rts {
  id                 String                  @id @db.Char(36)
  rw_id              String                  @db.Char(36)
  desa_id            BigInt                  @db.UnsignedBigInt
  nomor              String                  @db.VarChar(255)
  alamat             String?                 @db.VarChar(255)
  status_kelembagaan rts_status_kelembagaan? @default(aktif)
  status_verifikasi  rts_status_verifikasi?  @default(unverified)
  created_at         DateTime?               @default(now()) @db.Timestamp(0)
  updated_at         DateTime?               @default(now()) @db.Timestamp(0)
  produk_hukum_id    String?                 @db.Char(36)
  desas              desas                   @relation(fields: [desa_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "rts_desa_id_foreign")
  produk_hukums      produk_hukums?          @relation(fields: [produk_hukum_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "rts_produk_hukum_id_foreign")
  rws                rws                     @relation(fields: [rw_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "rts_rw_id_foreign")

  @@unique([rw_id, nomor], map: "unique_rw_nomor")
  @@index([desa_id], map: "rts_desa_id_foreign")
  @@index([produk_hukum_id], map: "rts_produk_hukum_id_foreign")
}

model rws {
  id                 String                 @id @db.Char(36)
  desa_id            BigInt                 @db.UnsignedBigInt
  nomor              String                 @db.VarChar(255)
  alamat             String?                @db.VarChar(255)
  status_kelembagaan rws_status_kelembagaan @default(aktif)
  status_verifikasi  rws_status_verifikasi  @default(unverified)
  created_at         DateTime?              @db.Timestamp(0)
  updated_at         DateTime?              @db.Timestamp(0)
  produk_hukum_id    String?                @db.Char(36)
  rts                rts[]
  desas              desas                  @relation(fields: [desa_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "rws_desa_id_foreign")
  produk_hukums      produk_hukums?         @relation(fields: [produk_hukum_id], references: [id], onUpdate: NoAction, map: "rws_produk_hukum_id_foreign")

  @@unique([desa_id, nomor], map: "rws_desa_id_nomor_unique")
  @@index([produk_hukum_id], map: "rws_produk_hukum_id_foreign")
}

model satlinmas {
  id                 String                       @id @db.Char(36)
  desa_id            BigInt                       @db.UnsignedBigInt
  nama               String                       @db.VarChar(255)
  alamat             String?                      @db.VarChar(255)
  status_kelembagaan satlinmas_status_kelembagaan @default(aktif)
  status_verifikasi  satlinmas_status_verifikasi  @default(unverified)
  created_at         DateTime?                    @db.Timestamp(0)
  updated_at         DateTime?                    @db.Timestamp(0)
  produk_hukum_id    String?                      @db.Char(36)
  desas              desas                        @relation(fields: [desa_id], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "satlinmas_desa_id_foreign")
  produk_hukums      produk_hukums?               @relation(fields: [produk_hukum_id], references: [id], onUpdate: NoAction, map: "satlinmas_produk_hukum_id_foreign")

  @@index([desa_id], map: "satlinmas_desa_id_foreign")
  @@index([produk_hukum_id], map: "satlinmas_produk_hukum_id_foreign")
}

model users {
  id                                      BigInt                      @id @default(autoincrement()) @db.UnsignedBigInt
  name                                    String                      @db.VarChar(255)
  email                                   String                      @unique(map: "users_email_unique") @db.VarChar(255)
  email_verified_at                       DateTime?                   @db.Timestamp(0)
  password                                String                      @db.VarChar(255)
  role                                    users_role                  @default(desa)
  kecamatan_id                            Int?                        @db.UnsignedInt
  desa_id                                 BigInt?                     @db.UnsignedBigInt
  bidang_id                               Int?                        @db.UnsignedInt
  dinas_id                                Int?                        @db.UnsignedInt
  avatar                                  String?                     @db.VarChar(255)
  remember_token                          String?                     @db.VarChar(100)
  created_at                              DateTime?                   @db.Timestamp(0)
  updated_at                              DateTime?                   @db.Timestamp(0)
  is_active                               Boolean                     @default(true)
  pegawai_id                              BigInt?                     @db.UnsignedBigInt
  app_settings                            app_settings[]
  disposisi_disposisi_dari_user_idTousers disposisi[]                 @relation("disposisi_dari_user_idTousers")
  disposisi_disposisi_ke_user_idTousers   disposisi[]                 @relation("disposisi_ke_user_idTousers")
  kelembagaan_activity_logs               kelembagaan_activity_logs[]
  activity_logs                           activity_logs[]
  lampiran_surat                          lampiran_surat[]
  push_subscriptions                      push_subscriptions[]
  surat_masuk                             surat_masuk[]
  pegawai                                 pegawai?                    @relation(fields: [pegawai_id], references: [id_pegawai], onDelete: Cascade, onUpdate: NoAction, map: "users_pegawai_id_foreign")
  jadwal_kegiatan_created                 jadwal_kegiatan[]           @relation("jadwal_kegiatan_created_byTousers")
  jadwal_kegiatan_approved                jadwal_kegiatan[]           @relation("jadwal_kegiatan_approved_byTousers")

  @@index([pegawai_id], map: "users_pegawai_id_index")
}

model disposisi {
  id                                  BigInt               @id @default(autoincrement()) @db.UnsignedBigInt
  surat_id                            BigInt               @db.UnsignedBigInt
  dari_user_id                        BigInt               @db.UnsignedBigInt
  ke_user_id                          BigInt               @db.UnsignedBigInt
  catatan                             String?              @db.Text
  instruksi                           disposisi_instruksi? @default(biasa)
  status                              disposisi_status?    @default(pending)
  level_disposisi                     Int                  @db.UnsignedTinyInt
  tanggal_disposisi                   DateTime?            @default(now()) @db.DateTime(0)
  tanggal_dibaca                      DateTime?            @db.DateTime(0)
  tanggal_selesai                     DateTime?            @db.DateTime(0)
  created_at                          DateTime?            @default(now()) @db.Timestamp(0)
  updated_at                          DateTime?            @default(now()) @db.Timestamp(0)
  users_disposisi_dari_user_idTousers users                @relation("disposisi_dari_user_idTousers", fields: [dari_user_id], references: [id])
  users_disposisi_ke_user_idTousers   users                @relation("disposisi_ke_user_idTousers", fields: [ke_user_id], references: [id])
  surat_masuk                         surat_masuk          @relation(fields: [surat_id], references: [id], onDelete: Cascade)

  @@index([dari_user_id], map: "idx_dari_user")
  @@index([ke_user_id, status], map: "idx_disposisi_ke_status")
  @@index([surat_id, level_disposisi], map: "idx_disposisi_surat_level")
  @@index([ke_user_id], map: "idx_ke_user")
  @@index([level_disposisi], map: "idx_level")
  @@index([status], map: "idx_status")
  @@index([surat_id], map: "idx_surat_id")
}

model lampiran_surat {
  id          BigInt      @id @default(autoincrement()) @db.UnsignedBigInt
  surat_id    BigInt      @db.UnsignedBigInt
  nama_file   String      @db.VarChar(255)
  file_path   String      @db.VarChar(500)
  ukuran_file Int?        @db.UnsignedInt
  tipe_file   String?     @db.VarChar(50)
  uploaded_by BigInt      @db.UnsignedBigInt
  created_at  DateTime?   @default(now()) @db.Timestamp(0)
  surat_masuk surat_masuk @relation(fields: [surat_id], references: [id], onDelete: Cascade)
  users       users       @relation(fields: [uploaded_by], references: [id])

  @@index([surat_id], map: "idx_surat_id")
  @@index([uploaded_by], map: "lampiran_surat_uploaded_by_fkey")
}

model pegawai {
  id_pegawai   BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  id_bidang    BigInt    @db.UnsignedBigInt
  nama_pegawai String    @db.VarChar(255)
  created_at   DateTime? @db.Timestamp(0)
  updated_at   DateTime? @db.Timestamp(0)
  bidangs      bidangs   @relation(fields: [id_bidang], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "pegawai_id_bidang_foreign")
  users        users[]

  @@index([id_bidang], map: "pegawai_id_bidang_foreign")
}

model push_subscriptions {
  id           BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  user_id      BigInt    @db.UnsignedBigInt
  endpoint     String    @db.Text
  subscription Json
  created_at   DateTime? @default(now()) @db.Timestamp(0)
  updated_at   DateTime? @default(now()) @db.Timestamp(0)
  users        users     @relation(fields: [user_id], references: [id], onDelete: Cascade)

  @@index([user_id], map: "push_subscriptions_user_id_index")
}

model surat_masuk {
  id             BigInt                   @id @default(autoincrement()) @db.UnsignedBigInt
  nomor_surat    String                   @unique @db.VarChar(100)
  tanggal_surat  DateTime                 @db.Date
  tanggal_terima DateTime?                @default(now()) @db.DateTime(0)
  pengirim       String                   @db.VarChar(255)
  perihal        String                   @db.Text
  jenis_surat    surat_masuk_jenis_surat? @default(biasa)
  file_path      String?                  @db.VarChar(500)
  keterangan     String?                  @db.Text
  status         surat_masuk_status?      @default(draft)
  created_by     BigInt                   @db.UnsignedBigInt
  created_at     DateTime?                @default(now()) @db.Timestamp(0)
  updated_at     DateTime?                @default(now()) @db.Timestamp(0)
  disposisi      disposisi[]
  lampiran_surat lampiran_surat[]
  users          users                    @relation(fields: [created_by], references: [id])

  @@index([created_by], map: "idx_created_by")
  @@index([status], map: "idx_status")
  @@index([status, tanggal_surat(sort: Desc)], map: "idx_surat_status_tanggal")
  @@index([tanggal_surat], map: "idx_tanggal_surat")
}

enum desas_status_pemerintahan {
  desa
  kelurahan
}

enum karang_tarunas_status_kelembagaan {
  aktif
  nonaktif
}

enum lpms_status_kelembagaan {
  aktif
  nonaktif
}

enum pkks_status_kelembagaan {
  aktif
  nonaktif
}

enum posyandus_status_kelembagaan {
  aktif
  nonaktif
}

enum rws_status_kelembagaan {
  aktif
  nonaktif
}

enum satlinmas_status_kelembagaan {
  aktif
  nonaktif
}

enum karang_tarunas_status_verifikasi {
  verified
  unverified
}

enum lpms_status_verifikasi {
  verified
  unverified
}

enum pkks_status_verifikasi {
  verified
  unverified
}

enum posyandus_status_verifikasi {
  verified
  unverified
}

enum rts_status_kelembagaan {
  aktif
  nonaktif
}

enum rws_status_verifikasi {
  verified
  unverified
}

enum satlinmas_status_verifikasi {
  verified
  unverified
}

enum berita_kategori {
  umum
  bumdes
  perjadin
  musdesus
  pengumuman
}

enum bumdes_status {
  aktif
  tidak_aktif @map("tidak aktif")
}

enum rts_status_verifikasi {
  verified
  unverified
}

enum berita_status {
  draft
  published
  archived
}

enum pengurus_status_jabatan {
  aktif
  selesai
}

enum produk_hukums_jenis {
  Peraturan_Desa        @map("Peraturan Desa")
  Peraturan_Kepala_Desa @map("Peraturan Kepala Desa")
  Keputusan_Kepala_Desa @map("Keputusan Kepala Desa")
}

enum aparatur_desa_jenis_kelamin {
  Laki_laki @map("Laki-laki")
  Perempuan
}

enum pengurus_status_verifikasi {
  verified
  unverified
}

enum produk_hukums_singkatan_jenis {
  PERDES
  PERKADES
  SK_KADES @map("SK KADES")
}

enum produk_hukums_status_peraturan {
  berlaku
  dicabut
}

enum pengurus_jenis_kelamin {
  Laki_laki @map("Laki-laki")
  Perempuan
}

enum aparatur_desa_status {
  Aktif
  Tidak_Aktif @map("Tidak Aktif")
}

enum disposisi_instruksi {
  segera
  penting
  biasa
  koordinasi
  teliti_lapor
  edarkan
  simpan
}

enum users_role {
  superadmin
  kepala_dinas
  sekretaris_dinas
  kepala_bidang
  ketua_tim
  pegawai
  desa
  kecamatan
}

enum disposisi_status {
  pending
  dibaca
  proses
  selesai
  teruskan
}

enum surat_masuk_jenis_surat {
  biasa
  penting
  segera
  rahasia
}

enum surat_masuk_status {
  draft
  dikirim
  selesai
}

model app_settings {
  id                 Int       @id @default(autoincrement())
  setting_key        String    @unique @db.VarChar(100)
  setting_value      String    @db.Text
  description        String?   @db.VarChar(255)
  updated_by_user_id BigInt?   @db.UnsignedBigInt
  created_at         DateTime? @default(now()) @db.Timestamp(0)
  updated_at         DateTime? @updatedAt @db.Timestamp(0)
  users              users?    @relation(fields: [updated_by_user_id], references: [id], onDelete: SetNull, map: "fk_app_settings_user")

  @@index([setting_key], map: "idx_setting_key")
  @@index([updated_by_user_id], map: "fk_app_settings_user_idx")
}

model activity_logs {
  id          BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  user_id     BigInt    @db.UnsignedBigInt
  user_name   String?   @db.VarChar(255)
  user_role   String?   @db.VarChar(50)
  bidang_id   BigInt?   @db.UnsignedBigInt
  module      String    @db.VarChar(50)
  action      String    @db.VarChar(50)
  entity_type String    @db.VarChar(100)
  entity_id   BigInt?   @db.UnsignedBigInt
  entity_name String?   @db.VarChar(255)
  description String    @db.Text
  old_value   Json?
  new_value   Json?
  ip_address  String?   @db.VarChar(45)
  user_agent  String?   @db.VarChar(500)
  created_at  DateTime? @default(now()) @db.Timestamp(0)
  users       users     @relation(fields: [user_id], references: [id], onDelete: Cascade, map: "activity_logs_user_id_foreign")

  @@index([user_id], map: "idx_user_id")
  @@index([bidang_id], map: "idx_bidang_id")
  @@index([module], map: "idx_module")
  @@index([action], map: "idx_action")
  @@index([created_at], map: "idx_created_at")
  @@index([module, action], map: "idx_module_action")
}

model jadwal_kegiatan {
  id                                                  BigInt                                 @id @default(autoincrement()) @db.UnsignedBigInt
  judul                                               String                                 @db.VarChar(255)
  deskripsi                                           String                                 @db.Text
  bidang_id                                           BigInt?                                @db.UnsignedBigInt
  tanggal_mulai                                       DateTime                               @db.DateTime(0)
  tanggal_selesai                                     DateTime                               @db.DateTime(0)
  lokasi                                              String?                                @db.VarChar(255)
  asal_kegiatan                                       String?                                @db.VarChar(255)
  pic_name                                            String?                                @db.VarChar(255)
  pic_contact                                         String?                                @db.VarChar(50)
  status                                              jadwal_kegiatan_status                 @default(draft)
  prioritas                                           jadwal_kegiatan_prioritas              @default(sedang)
  kategori                                            jadwal_kegiatan_kategori               @default(lainnya)
  anggaran                                            Decimal?                               @db.Decimal(15, 2)
  created_by                                          BigInt                                 @db.UnsignedBigInt
  approved_by                                         BigInt?                                @db.UnsignedBigInt
  approved_at                                         DateTime?                              @db.DateTime(0)
  catatan_approval                                    String?                                @db.Text
  created_at                                          DateTime?                              @default(now()) @db.Timestamp(0)
  updated_at                                          DateTime?                              @default(now()) @db.Timestamp(0)
  bidangs                                             bidangs?                               @relation(fields: [bidang_id], references: [id], onUpdate: NoAction, map: "fk_jadwal_kegiatan_bidang")
  users_jadwal_kegiatan_created_byTousers             users                                  @relation("jadwal_kegiatan_created_byTousers", fields: [created_by], references: [id], onUpdate: NoAction, map: "fk_jadwal_kegiatan_created_by")
  users_jadwal_kegiatan_approved_byTousers            users?                                 @relation("jadwal_kegiatan_approved_byTousers", fields: [approved_by], references: [id], onUpdate: NoAction, map: "fk_jadwal_kegiatan_approved_by")

  @@index([bidang_id], map: "idx_jadwal_kegiatan_bidang_id")
  @@index([status], map: "idx_jadwal_kegiatan_status")
  @@index([prioritas], map: "idx_jadwal_kegiatan_prioritas")
  @@index([kategori], map: "idx_jadwal_kegiatan_kategori")
  @@index([tanggal_mulai], map: "idx_jadwal_kegiatan_tanggal_mulai")
  @@index([tanggal_selesai], map: "idx_jadwal_kegiatan_tanggal_selesai")
  @@index([created_by], map: "idx_jadwal_kegiatan_created_by")
  @@index([approved_by], map: "idx_jadwal_kegiatan_approved_by")
}

enum jadwal_kegiatan_status {
  draft
  pending
  approved
  rejected
  completed
  cancelled
}

enum jadwal_kegiatan_prioritas {
  rendah
  sedang
  tinggi
  urgent
}

enum jadwal_kegiatan_kategori {
  rapat
  pelatihan
  monitoring
  kunjungan
  acara
  lainnya
}
